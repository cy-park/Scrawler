/*! Scrawler.js v1.2.0 | (c) 2016-2017 Chan Young Park | MIT License */ 
!function(e,r){"use strict";"function"==typeof define&&define.amd?define(Scrawler):"object"==typeof module&&module.exports?module.exports=r():e.Scrawler=r()}("undefined"!=typeof window?window:this,function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this;r.fps=e.fps||0,r.a=e.baseline.toString()||"center",r.baseline=t.calcBaseline(r.a),r.idling=parseInt(e.idling)||0,r.b="",r.c=[],r.d=null,r.e=0,r.g=0,r.h=!1,window.addEventListener("resize",r.refresh.bind(r))}function r(){var e=this;n.call(e),e.idling<0||0===e.idling&&"stay"!==e.b||e.g<e.idling?(i.call(e),e.e=window.pageYOffset,e.d=window.requestAnimationFrame(r.bind(e))):e.d&&e.pause()}function n(e){var r=this;e?r.b="resizing":r.e===window.pageYOffset?"stay"===r.b?r.idling>=0&&r.g++:""===r.b?r.b="initialized":r.b="stay":(r.g=0,r.e<window.pageYOffset?r.b="down":r.b="up")}function i(){for(var e=this,r=window.innerHeight,n=0;n<e.c.length;n++)for(var i=e.c[n],t=0;t<i.units.length;t++){var a=i.units[t],s=a.el.getBoundingClientRect();a.progress.px=e.baseline.px-(s.top+a.baseline.px),a.progress.vf=a.progress.px/r,a.progress.f=0===s.height?0:a.progress.px/s.height,i.range?i.range[0]<=a.progress[i.i]&&a.progress[i.i]<=i.range[1]?(a.j=i.range[0]===a.progress[i.i],a.k=i.range[1]===a.progress[i.i],i.callback.apply(a,i.callbackArgs)):a.progress[i.i]<i.range[0]?(a.k=!1,"px"===i.i?(a.progress.px=i.range[0],a.progress.f=0===s.height?0:a.progress.px/s.height):(a.progress.f=i.range[0],a.progress.px=s.height*a.progress.f),a.progress.vf=a.progress.px/r,a.j||(a.j=!0,i.callback.apply(a,i.callbackArgs))):(a.j=!1,"px"===i.i?(a.progress.px=i.range[1],a.progress.f=0===s.height?0:a.progress.px/s.height):(a.progress.f=i.range[1],a.progress.px=s.height*a.progress.f),a.progress.vf=a.progress.px/r,a.k||(a.k=!0,i.callback.apply(a,i.callbackArgs))):i.callback.apply(a,i.callbackArgs)}}e.prototype.add=function(r,n,i){var t=this;return r.id=r.id||"lid_"+t.c.length,t.c.push(new e.Logic(r,n,i)),t},e.prototype.remove=function(e){for(var r=this,n=0;n<r.c.length;n++)if(r.c[n].id===e)return r.c.splice(n,1),r;return r},e.prototype.sort=function(){var e=this;return e.c.sort(function(e,r){return e.order-r.order}),e},e.prototype.run=function(){var e=this;return e.h||(e.h=!0,window.addEventListener("scroll",e.run.bind(e))),e.d=window.requestAnimationFrame(r.bind(e)),e},e.prototype.pause=function(){var e=this;return window.cancelAnimationFrame(e.d),e.d=null,e},e.prototype.watch=function(){var e=this;return n.call(e),i.call(e),e.e=window.pageYOffset,e},e.prototype.refresh=function(){var e=this;n.call(e,!0),e.baseline=t.calcBaseline(e.a);for(var r=0;r<e.c.length;r++)for(var a=e.c[r],s=0;s<a.units.length;s++){var o=a.units[s];o.baseline=t.calcBaseline(a.baseline,o.el)}return i.call(e),e.e=window.pageYOffset,e};var t={};return t.calcBaseline=function(r,n){var i=window.innerHeight,t=new e.Position,a=n?n.getBoundingClientRect().height:i;switch(r){case"top":t.px=0,t.f=0;break;case"center":t.px=a/2,t.f=.5;break;case"bottom":t.px=a,t.f=1;break;default:var s=function(){t.px=parseFloat(r),t.f=r/a};"string"==typeof r?-1!==r.indexOf("%")?(t.f=parseFloat(r.replace("%",""))/100,t.px=a*t.f):-1!==r.indexOf("f")?-1!==r.indexOf("v")?(t.px=i*parseFloat(r.replace("vf","")),t.f=t.px/a):(t.f=parseFloat(r.replace("f","")),t.px=a*t.f):s():s()}return t.vf=t.px/i,t},e.Logic=function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=this;a.id=r.id,a.el=r.el,a.order=r.order||0,a.range=r.range||null,a.baseline=r.baseline||0,a.callback=n,a.callbackArgs=i,a.nodelist=document.querySelectorAll(r.el),a.units=[];for(var s=0;s<a.nodelist.length;s++)a.units[s]=new e.Unit({el:a.nodelist[s],baseline:t.calcBaseline(a.baseline,a.nodelist[s]),progress:new e.Position});a.i,a.range&&("string"==typeof a.range[1]?-1!==a.range[1].indexOf("%")?(a.range[0]=parseFloat(a.range[0].replace("%",""))/100,a.range[1]=parseFloat(a.range[1].replace("%",""))/100,a.i="f"):-1!==a.range[1].indexOf("f")?-1!==a.range[1].indexOf("v")?(a.range[0]=parseFloat(a.range[0].replace("vf","")),a.range[1]=parseFloat(a.range[1].replace("vf","")),a.i="vf"):(a.range[0]=parseFloat(a.range[0].replace("f","")),a.range[1]=parseFloat(a.range[1].replace("f","")),a.i="f"):a.i="px":a.i="px")},e.Position=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.f=e.f||void 0,this.vf=e.vf||void 0,this.px=e.px||void 0},e.Unit=function(e){var r=this;r.el=e.el,r.baseline=e.baseline,r.progress=e.progress,r.j=!1,r.k=!1,r.scales=e.scales||{}},e.Unit.prototype.f=function(){return this.progress.f},e.Unit.prototype.px=function(){return this.progress.px},e.Unit.prototype.vf=function(){return this.progress.vf},e.Unit.prototype.scale=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],t=this;e=e.toString(),r.to=r.to||[0,1],t.scales[e]=t.scales[e]||{j:!1,k:!1};var a=r.from[0],s=r.from[1],o=r.to[0],p=r.to[1],l=t.scales[e],f=void 0,g=void 0;"string"==typeof s?-1!==s.indexOf("%")?(a=parseFloat(a.replace("%",""))/100,s=parseFloat(s.replace("%",""))/100,f="f"):-1!==s.indexOf("f")?-1!==s.indexOf("v")?(a=parseFloat(a.replace("vf","")),s=parseFloat(s.replace("vf","")),f="vf"):(a=parseFloat(a.replace("f","")),s=parseFloat(s.replace("f","")),f="f"):f="px":f="px";var c=t.progress[f];a<=c&&c<=s?(l.j=!1,l.k=!1,g=(c-a)/(s-a)*(p-o)+o,i.unshift(g),n.apply(t,i)):c<a?(l.k=!1,l.j||(l.j=!0,c=a,g=(c-a)/(s-a)*(p-o)+o,i.unshift(g),n.apply(t,i))):(l.j=!1,l.k||(l.k=!0,c=s,g=(c-a)/(s-a)*(p-o)+o,i.unshift(g),n.apply(t,i)))},e});